````markdown
# 牛轉門：時空導航儀（終極完全版）

多週期（月/週/日/4H/60m/15m/5m/1m）聯動的結構推演工具，整合「7 字訣」「門控（W/M）」「波動標籤（1/2/3/A/B/C）」與能量加權，提供多空總結、情境預言、三層防禦聯動，以及極端行情（33333/CCCCC）警示。此版為前端單頁（HTML+CSS+JS），適合教學、策略設計與視覺化演練。

- 專案名稱：牛轉門：時空導航儀（終極完全版）
- 作者標示：程式撰寫：六甲豆子
- 免責聲明：個人交易心得整理，不構成投資建議；「牛軍開門」技術原創者教學請至 SKOOL
- 授權：僅供學習交流，不得商用

---

## 主要特色

- 技術核心導讀卡：清楚解釋「識波動／7 字訣／門控」三大核心
- 多時框設定面板：月、週、日、4H、60m、15m、5m、1m 八層級獨立配置
- 儀表板總覽：
  - 當前多空總結與警語（Trend）
  - 未來演化預言（Scenario）
  - 絕對防禦聯動（Risk Control）：宏觀／基準／微觀三層同時展示
- 極端行情警示：
  - 宏觀 33333（極陽）/ CCCCC（極陰）結構偵測
  - 微觀門（15m/5m/1m）開關數量統計，輔助判斷風險或轉折
- 狀態矩陣推演：
  - 逐步生成各時框標籤序列
  - 顯示能量等級、門控狀態與分析
  - 特定結構高亮（黃金拼圖、臨門一腳）
- 範例載入：
  - 一鍵載入預設組合（333A3CC1）輔助快速入門
- PWA 基礎：
  - 內嵌 manifest（data URI）、主題色設定

---

## 核心概念

- 波動標籤：1、2、3、A、B、C
  - 1/3/B：正弦相位（偏漲，紅）
  - 2/A/C：餘弦相位（偏跌，綠）
- 7 字訣方向：UP（紅等黑）／DOWN（黑等紅）
  - 對 B 段方向進行修正（影響多空總結向量）
- 門控（Gate）
  - 門屬性：W 門（底）／M 門（頭）／無門
  - 門開關：形成中／已開啟／已關閉
  - 收盤確認：所有門控判讀以該時框收盤價為準

---

## 介面導覽

- 技術核心導讀區（頁面上方卡片）
  - 概述「識波動／7 字訣／門控」的核心心法
- 儀表板（Dashboard）
  - 多空總結與警語：向上趨勢 🚀／向下趨勢 📉／中性整理 ⚖️
  - 未來演化預言（Scenario）：依規則產生白話提示
  - 絕對防禦聯動（Risk Control）：宏觀／基準／微觀三層門控狀態一覽
- 極端行情警示區（Extreme Alert）
  - 自動提示 33333 / CCCCC 結構，並顯示微觀門的開/關統計
- 設定面板（Config Panel）
  - 每層級可設定：波動標籤、7 字訣方向、門屬性、門開關
- 控制區（Actions）
  - 載入範例（333A3CC1）、選擇導航基準層級、設定預演步數、執行推演
- 結果表格（Matrix）
  - 各時框標籤序列、能量等級、門控狀態、分析語句

---

## 運作邏輯（簡述）

- 時框參數
  - timeframes 內含各層級的 weight（能量權重）與 ratio（步進節奏）
- 多空總結（加權演算法）
  - 基本方向：1/3/B 視為 +1，2/A/C 視為 -1
  - 7 字訣修正：mantra 為 DOWN 時，v -= 0.5
  - 門控修正：門「已開啟」v += 1；門「已關閉」v -= 1
  - 加權：currentVector += v × (weight / 10)
  - 判斷：> 5 向上趨勢；< -5 向下趨勢；介於其間為中性整理
- 三層防禦聯動
  - 宏觀（macroIdx）／基準（refIdx）／微觀（microIdx）門控狀態並列顯示
- 極端警示
  - 宏觀（前 5 層：月→60m）全為 3 或全為 C 時觸發提示
  - 微觀（15m/5m/1m）計算門開/關數量作為輔助判斷
- 能量等級
  - 上行標籤加權求和 totalPower，分級為：1 極多、2 強多、3 多空關鍵、4 空誘多、5 空頭
- 門控文案映射
  - 依參考層級當前標籤映射為：開門發動／測門買點／B 反彈找空點／關門撤退

---

## 安裝與部署

- 檔案組成：單一 HTML（含 CSS/JS），例如 `index.html`
- 快速使用：
  1. 將你提供的 HTML 另存為 `index.html`
  2. 以瀏覽器直接開啟，或部署到任一靜態伺服器（Nginx/Apache/Vercel/Netlify/Cloudflare Pages）
- HTTPS 建議：
  - 對外服務時使用反向代理（Nginx）配置 Let’s Encrypt 憑證，強制 HTTPS
- PWA 提示：
  - 已內嵌 manifest（data URI）；若需離線能力，請加入 Service Worker 與快取策略

---

## 使用步驟

1. 開啟 `index.html`
2. 點「載入範例（333A3CC1）」或在設定面板逐層配置：
   - 波動標籤：1/2/3/A/B/C
   - 7 字訣方向：UP / DOWN
   - 門屬性：無門 / W 門 / M 門
   - 門開關：形成中 / 已開啟 / 已關閉
3. 控制區設定：
   - 導航基準層級（預設 4H）
   - 預演步數（預設 60）
4. 點擊「執行多週期矩陣推演」
5. 觀察：
   - 儀表板：多空總結、Scenario、三層防禦聯動
   - 警示區：是否出現 33333 / CCCCC 結構與微觀門統計
   - 結果表格：各時框標籤演化、能量等級與門控提示
6. 注意：所有判斷以「該時框收盤價」確認有效

---

## 自訂與擴充

- 權重/節奏：調整 `timeframes` 的 `weight` 與 `ratio` 對應你的策略
- 情境規則：擴充 Scenario 與極端警示邏輯（更多宏觀/微觀組合）
- 視覺樣式：在 `<style>` 中調整主題色、字級、標籤色階、卡片樣式
- 門控演算法：以更完整的破門/偽突破/回抽測門邏輯替換目前簡化輪替
- 資料接入：串接行情 API 或你的資料源，並加入狀態保存（LocalStorage/IndexedDB）

---

## 已知限制

- 模擬教學性質：未接真實市場資料
- 門控簡化：未包含動能大小、量價、波長比等進階條件
- PWA 簡化：目前僅 manifest，尚未提供 Service Worker 與離線快取
- 行動端瀏覽：表格較寬，手機需橫向捲動以檢視完整欄位

---

## 常見問題

- 為何觸發 33333 / CCCCC 警示？
  - 代表宏觀結構極端一致，風險或轉折概率升高；請配合微觀門開/關數量輔助判讀
- 多空總結如何計算？
  - 各層級方向 ×（7 字訣/門控修正）× 權重比（weight/10）相加；> 5 向上、< -5 向下、介於其間中性
- 門控提示的來源？
  - 依參考層級當前標籤映射為開門／測門／B 反彈空點／關門文案

---

## 版權與免責

- 本工具僅供策略推演與教學示意，不構成投資建議
- 技術原創者與教學：請參考 SKOOL 技術原創者頁面（尊重原創）
- 商用或再分發：不能商用

---

## 參考連結

- 技術原創者（SKOOL）：https://www.skool.com/niujun-open-the-door/about?ref=35d3add8e5c64bb58850c92c283d1ba4
```
